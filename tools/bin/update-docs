#!/bin/sh

# Update module documentation
#
# Usage:
# tools/bin/update-docs module/README.md
#
# The readme has to contain a <!-- BEGIN_TF_DOCS --> comments which marks
# the point where the generated docs should be placed

set -e

module_dir=$(dirname $1)

terraform-docs \
  --config "$(realpath --relative-to="$module_dir" .terraform-docs.yml)" \
  "$module_dir"
